<p-toast></p-toast>

<div class="auth-page">
  <!-- Ambient blobs -->
  <div class="auth-blobs">
    <span class="blob blob-1"></span>
    <span class="blob blob-2"></span>
  </div>

  <p-panel class="auth-card">
    <!-- Back Button -->
    <div class="back-button-container">
      <p-button
        icon="pi pi-arrow-left"
        [text]="true"
        [rounded]="true"
        styleClass="back-button"
        (onClick)="goToLanding()"
        pTooltip="Back to Home"
        tooltipPosition="right"
      ></p-button>
    </div>

    <div class="auth-header">
      <h1>Welcome Back</h1>
      <p>Sign in to Bubble & Cuddle</p>
    </div>

    <!-- CHANGED: div to form -->
    <form class="auth-form" (ngSubmit)="login()">
      <p-iconfield>
        <input
          type="text"
          pInputText
          placeholder="Username"
          [(ngModel)]="credentials.username"
          [disabled]="isProcessing"
          name="username"
          autocomplete="username"
        />
      </p-iconfield>

      <p-iconfield>
        <input
          type="password"
          pPassword
          [feedback]="false"
          class="auth-input"
          placeholder="Password"
          [(ngModel)]="credentials.password"
          [disabled]="isProcessing"
          name="password"
          autocomplete="current-password"
        />
      </p-iconfield>

      <p-button
        label="Sign In"
        type="submit"
        [loading]="isProcessing"
        [disabled]="isProcessing"
        styleClass="auth-button"
      ></p-button>
    </form>
  </p-panel>
</div>
